<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel Subscription Financial Model</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #1E40AF;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            color: #6B7280;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .market-size {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .market-size h2 {
            font-size: 3em;
            margin-bottom: 10px;
        }
        
        .market-size p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .control-group {
            background: #F9FAFB;
            padding: 20px;
            border-radius: 10px;
        }
        
        .control-group label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .control-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .control-group input:focus {
            outline: none;
            border-color: #1E40AF;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }
        
        .metric-card.success {
            background: linear-gradient(135deg, #059669 0%, #10B981 100%);
        }
        
        .metric-card.warning {
            background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .metric-value {
            font-size: 2em;
            font-weight: bold;
        }
        
        .chart-container {
            background: #F9FAFB;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .chart-title {
            font-size: 1.5em;
            font-weight: 600;
            color: #111827;
            margin-bottom: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #E5E7EB;
        }
        
        th {
            background: #1E40AF;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #F3F4F6;
        }
        
        .plan-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .plan-card {
            background: white;
            border: 2px solid #E5E7EB;
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s;
        }
        
        .plan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .plan-card h3 {
            color: #1E40AF;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .plan-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #F3F4F6;
        }
        
        .plan-stat-label {
            color: #6B7280;
        }
        
        .plan-stat-value {
            font-weight: 600;
            color: #111827;
        }
        
        .growth-chart {
            height: 300px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            position: relative;
        }
        
        .bar {
            display: inline-block;
            width: 8%;
            background: linear-gradient(to top, #1E40AF, #3B82F6);
            margin: 0 0.5%;
            border-radius: 5px 5px 0 0;
            position: relative;
            vertical-align: bottom;
        }
        
        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8em;
            color: #6B7280;
        }
        
        .insights {
            background: #ECFDF5;
            border-left: 4px solid #059669;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .insights h3 {
            color: #059669;
            margin-bottom: 15px;
        }
        
        .insights ul {
            list-style: none;
            padding-left: 0;
        }
        
        .insights li {
            padding: 8px 0;
            color: #374151;
        }
        
        .insights li:before {
            content: "‚úì ";
            color: #059669;
            font-weight: bold;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÇ Sentinel Subscription Financial Model</h1>
        <p class="subtitle">Revenue projections for Africa Railways subscription system</p>
        
        <div class="market-size">
            <h2>3.4 Million</h2>
            <p>Potential users on TAZARA alone (9,000 daily commuters + 1.6M annual passengers)</p>
            <p style="margin-top: 10px; font-size: 0.9em;">+ Zambia Railways network reaching 5 major cities</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label>Market Penetration (%)</label>
                <input type="number" id="penetration" value="5" min="1" max="100" step="0.5">
            </div>
            <div class="control-group">
                <label>Monthly Growth Rate (%)</label>
                <input type="number" id="growthRate" value="15" min="0" max="50" step="1">
            </div>
            <div class="control-group">
                <label>Trader Plan % of Users</label>
                <input type="number" id="traderPercent" value="40" min="0" max="100" step="5">
            </div>
            <div class="control-group">
                <label>Commuter Plan % of Users</label>
                <input type="number" id="commuterPercent" value="50" min="0" max="100" step="5">
            </div>
        </div>
        
        <div class="metrics">
            <div class="metric-card">
                <div class="metric-label">Month 1 Revenue</div>
                <div class="metric-value" id="month1Revenue">ZMW 0</div>
            </div>
            <div class="metric-card success">
                <div class="metric-label">Month 12 Revenue</div>
                <div class="metric-value" id="month12Revenue">ZMW 0</div>
            </div>
            <div class="metric-card warning">
                <div class="metric-label">Year 1 Total</div>
                <div class="metric-value" id="year1Total">ZMW 0</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Break-Even Month</div>
                <div class="metric-value" id="breakEven">Month 0</div>
            </div>
        </div>
        
        <div class="plan-breakdown">
            <div class="plan-card">
                <h3>üíº Sentinel Trader</h3>
                <div class="plan-stat">
                    <span class="plan-stat-label">Price</span>
                    <span class="plan-stat-value">ZMW 50/month</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Target Users</span>
                    <span class="plan-stat-value" id="traderUsers">0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Monthly Revenue</span>
                    <span class="plan-stat-value" id="traderRevenue">ZMW 0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Annual Revenue</span>
                    <span class="plan-stat-value" id="traderAnnual">ZMW 0</span>
                </div>
            </div>
            
            <div class="plan-card">
                <h3>üöå Sentinel Commuter</h3>
                <div class="plan-stat">
                    <span class="plan-stat-label">Price</span>
                    <span class="plan-stat-value">ZMW 120/month</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Target Users</span>
                    <span class="plan-stat-value" id="commuterUsers">0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Monthly Revenue</span>
                    <span class="plan-stat-value" id="commuterRevenue">ZMW 0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Annual Revenue</span>
                    <span class="plan-stat-value" id="commuterAnnual">ZMW 0</span>
                </div>
            </div>
            
            <div class="plan-card">
                <h3>‚úàÔ∏è Sentinel Voyager</h3>
                <div class="plan-stat">
                    <span class="plan-stat-label">Price</span>
                    <span class="plan-stat-value">ZMW 250/pass</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Target Users</span>
                    <span class="plan-stat-value" id="voyagerUsers">0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Monthly Revenue</span>
                    <span class="plan-stat-value" id="voyagerRevenue">ZMW 0</span>
                </div>
                <div class="plan-stat">
                    <span class="plan-stat-label">Annual Revenue</span>
                    <span class="plan-stat-value" id="voyagerAnnual">ZMW 0</span>
                </div>
            </div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">üìà 12-Month Revenue Growth</div>
            <div class="growth-chart" id="growthChart"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">üìä Monthly Breakdown</div>
            <table id="monthlyTable">
                <thead>
                    <tr>
                        <th>Month</th>
                        <th>Subscribers</th>
                        <th>MRR</th>
                        <th>Cumulative</th>
                        <th>Growth</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>
        
        <div class="insights">
            <h3>üí° Key Insights</h3>
            <ul id="insightsList"></ul>
        </div>
    </div>
    
    <script>
        const TOTAL_MARKET = 3400000; // 3.4M TAZARA users
        const PLANS = {
            trader: { price: 50, name: 'Sentinel Trader' },
            commuter: { price: 120, name: 'Sentinel Commuter' },
            voyager: { price: 250, name: 'Sentinel Voyager' }
        };
        const MONTHLY_COSTS = 5000; // Operating costs in ZMW
        
        function formatCurrency(amount) {
            return 'ZMW ' + amount.toLocaleString('en-US', { maximumFractionDigits: 0 });
        }
        
        function formatNumber(num) {
            return num.toLocaleString('en-US', { maximumFractionDigits: 0 });
        }
        
        function calculate() {
            const penetration = parseFloat(document.getElementById('penetration').value) / 100;
            const growthRate = parseFloat(document.getElementById('growthRate').value) / 100;
            const traderPercent = parseFloat(document.getElementById('traderPercent').value) / 100;
            const commuterPercent = parseFloat(document.getElementById('commuterPercent').value) / 100;
            const voyagerPercent = 1 - traderPercent - commuterPercent;
            
            // Calculate initial subscribers
            const initialSubscribers = Math.floor(TOTAL_MARKET * penetration);
            
            let monthlyData = [];
            let cumulativeRevenue = 0;
            let breakEvenMonth = 0;
            
            for (let month = 1; month <= 12; month++) {
                const subscribers = Math.floor(initialSubscribers * Math.pow(1 + growthRate, month - 1));
                
                const traderSubs = Math.floor(subscribers * traderPercent);
                const commuterSubs = Math.floor(subscribers * commuterPercent);
                const voyagerSubs = Math.floor(subscribers * voyagerPercent);
                
                const traderRevenue = traderSubs * PLANS.trader.price;
                const commuterRevenue = commuterSubs * PLANS.commuter.price;
                const voyagerRevenue = voyagerSubs * PLANS.voyager.price;
                
                const mrr = traderRevenue + commuterRevenue + voyagerRevenue;
                const profit = mrr - MONTHLY_COSTS;
                cumulativeRevenue += profit;
                
                if (breakEvenMonth === 0 && cumulativeRevenue > 0) {
                    breakEvenMonth = month;
                }
                
                monthlyData.push({
                    month,
                    subscribers,
                    traderSubs,
                    commuterSubs,
                    voyagerSubs,
                    traderRevenue,
                    commuterRevenue,
                    voyagerRevenue,
                    mrr,
                    profit,
                    cumulativeRevenue,
                    growth: month === 1 ? 0 : ((subscribers / monthlyData[month - 2].subscribers - 1) * 100)
                });
            }
            
            // Update metrics
            document.getElementById('month1Revenue').textContent = formatCurrency(monthlyData[0].mrr);
            document.getElementById('month12Revenue').textContent = formatCurrency(monthlyData[11].mrr);
            document.getElementById('year1Total').textContent = formatCurrency(
                monthlyData.reduce((sum, m) => sum + m.mrr, 0)
            );
            document.getElementById('breakEven').textContent = breakEvenMonth > 0 ? `Month ${breakEvenMonth}` : 'Not reached';
            
            // Update plan cards (using Month 12 data)
            const month12 = monthlyData[11];
            document.getElementById('traderUsers').textContent = formatNumber(month12.traderSubs);
            document.getElementById('traderRevenue').textContent = formatCurrency(month12.traderRevenue);
            document.getElementById('traderAnnual').textContent = formatCurrency(month12.traderRevenue * 12);
            
            document.getElementById('commuterUsers').textContent = formatNumber(month12.commuterSubs);
            document.getElementById('commuterRevenue').textContent = formatCurrency(month12.commuterRevenue);
            document.getElementById('commuterAnnual').textContent = formatCurrency(month12.commuterRevenue * 12);
            
            document.getElementById('voyagerUsers').textContent = formatNumber(month12.voyagerSubs);
            document.getElementById('voyagerRevenue').textContent = formatCurrency(month12.voyagerRevenue);
            document.getElementById('voyagerAnnual').textContent = formatCurrency(month12.voyagerRevenue * 12);
            
            // Update chart
            updateChart(monthlyData);
            
            // Update table
            updateTable(monthlyData);
            
            // Update insights
            updateInsights(monthlyData, penetration, growthRate);
        }
        
        function updateChart(data) {
            const maxRevenue = Math.max(...data.map(d => d.mrr));
            const chartHTML = data.map(d => {
                const height = (d.mrr / maxRevenue) * 250;
                return `<div class="bar" style="height: ${height}px;">
                    <span class="bar-label">M${d.month}</span>
                </div>`;
            }).join('');
            
            document.getElementById('growthChart').innerHTML = chartHTML;
        }
        
        function updateTable(data) {
            const tableHTML = data.map(d => `
                <tr>
                    <td>Month ${d.month}</td>
                    <td>${formatNumber(d.subscribers)}</td>
                    <td>${formatCurrency(d.mrr)}</td>
                    <td>${formatCurrency(d.cumulativeRevenue)}</td>
                    <td>${d.growth.toFixed(1)}%</td>
                </tr>
            `).join('');
            
            document.getElementById('tableBody').innerHTML = tableHTML;
        }
        
        function updateInsights(data, penetration, growthRate) {
            const month12 = data[11];
            const totalUsers = month12.subscribers;
            const totalRevenue = data.reduce((sum, m) => sum + m.mrr, 0);
            const avgRevenuePerUser = totalRevenue / (totalUsers * 12);
            
            const insights = [
                `At ${(penetration * 100).toFixed(1)}% market penetration, you'll reach ${formatNumber(totalUsers)} subscribers by Month 12`,
                `With ${(growthRate * 100)}% monthly growth, revenue grows from ${formatCurrency(data[0].mrr)} to ${formatCurrency(month12.mrr)}`,
                `Year 1 total revenue: ${formatCurrency(totalRevenue)} (${formatCurrency(totalRevenue / 19)} USD at 19 ZMW/USD)`,
                `Average revenue per user: ${formatCurrency(avgRevenuePerUser)}/month`,
                `Sentinel Commuter generates highest revenue due to daily rider volume`,
                `Break-even achieved in Month ${data.findIndex(d => d.cumulativeRevenue > 0) + 1 || 'N/A'}`,
                `Targeting Dar es Salaam's 9,000 daily commuters = instant ${formatCurrency(9000 * 0.5 * 120)} MRR potential`,
                `Cross-border traders (5,000+ weekly) represent ${formatCurrency(5000 * 0.4 * 50)} MRR opportunity`
            ];
            
            document.getElementById('insightsList').innerHTML = insights.map(i => `<li>${i}</li>`).join('');
        }
        
        // Add event listeners
        document.getElementById('penetration').addEventListener('input', calculate);
        document.getElementById('growthRate').addEventListener('input', calculate);
        document.getElementById('traderPercent').addEventListener('input', calculate);
        document.getElementById('commuterPercent').addEventListener('input', calculate);
        
        // Initial calculation
        calculate();
    </script>
</body>
</html>
